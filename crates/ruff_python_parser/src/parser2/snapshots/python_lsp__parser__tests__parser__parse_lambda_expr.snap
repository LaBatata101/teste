---
source: src/parser/tests.rs
expression: "parse(\"\nlambda: a\nlambda x: 1\nlambda x, y: ...\nlambda y, z=1: z * y\nlambda *a: a\nlambda *a, z, x=0: ...\nlambda **kwargs: f()\nlambda *args, **kwargs: f() + 1\nlambda *args, a, b=1, **kwargs: f() + 1\nlambda a, /: ...\nlambda a, /, b: ...\nlambda a=1, /,: ...\nlambda a, b, /, *, c: ...\nlambda kw=1, *, a: ...\n\")"
---
ParsedFile {
    ast: Module {
        body: [
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: None,
                            body: Id(
                                IdExpr {
                                    id: "a",
                                    ctx: Load,
                                    range: 9..10,
                                },
                            ),
                            range: 1..10,
                        },
                    ),
                    range: 1..10,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "x",
                                                        range: 18..19,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 18..19,
                                            },
                                            default: None,
                                            range: 18..19,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 18..19,
                                },
                            ),
                            body: Literal(
                                LiteralExpr {
                                    value: Int(
                                        "1",
                                    ),
                                    range: 21..22,
                                },
                            ),
                            range: 11..22,
                        },
                    ),
                    range: 11..22,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "x",
                                                        range: 30..31,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 30..31,
                                            },
                                            default: None,
                                            range: 30..31,
                                        },
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "y",
                                                        range: 33..34,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 33..34,
                                            },
                                            default: None,
                                            range: 33..34,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 30..34,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 36..39,
                                },
                            ),
                            range: 23..39,
                        },
                    ),
                    range: 23..39,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "y",
                                                        range: 47..48,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 47..48,
                                            },
                                            default: None,
                                            range: 47..48,
                                        },
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "z",
                                                        range: 50..51,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 50..51,
                                            },
                                            default: Some(
                                                Literal(
                                                    LiteralExpr {
                                                        value: Int(
                                                            "1",
                                                        ),
                                                        range: 52..53,
                                                    },
                                                ),
                                            ),
                                            range: 50..53,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 47..53,
                                },
                            ),
                            body: BinaryOp(
                                BinaryOpExpr {
                                    left: Id(
                                        IdExpr {
                                            id: "z",
                                            ctx: Load,
                                            range: 55..56,
                                        },
                                    ),
                                    op: Mult,
                                    right: Id(
                                        IdExpr {
                                            id: "y",
                                            ctx: Load,
                                            range: 59..60,
                                        },
                                    ),
                                    range: 55..60,
                                },
                            ),
                            range: 40..60,
                        },
                    ),
                    range: 40..60,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "a",
                                                    range: 69..70,
                                                },
                                            ),
                                            annotation: None,
                                            range: 69..70,
                                        },
                                    ),
                                    vararg: None,
                                    args: [],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 68..70,
                                },
                            ),
                            body: Id(
                                IdExpr {
                                    id: "a",
                                    ctx: Load,
                                    range: 72..73,
                                },
                            ),
                            range: 61..73,
                        },
                    ),
                    range: 61..73,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "a",
                                                    range: 82..83,
                                                },
                                            ),
                                            annotation: None,
                                            range: 82..83,
                                        },
                                    ),
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "z",
                                                        range: 85..86,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 85..86,
                                            },
                                            default: None,
                                            range: 85..86,
                                        },
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "x",
                                                        range: 88..89,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 88..89,
                                            },
                                            default: Some(
                                                Literal(
                                                    LiteralExpr {
                                                        value: Int(
                                                            "0",
                                                        ),
                                                        range: 90..91,
                                                    },
                                                ),
                                            ),
                                            range: 88..91,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 81..91,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 93..96,
                                },
                            ),
                            range: 74..96,
                        },
                    ),
                    range: 74..96,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "kwargs",
                                                    range: 106..112,
                                                },
                                            ),
                                            annotation: None,
                                            range: 106..112,
                                        },
                                    ),
                                    args: [],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 104..112,
                                },
                            ),
                            body: Call(
                                CallExpr {
                                    func: Id(
                                        IdExpr {
                                            id: "f",
                                            ctx: Load,
                                            range: 114..115,
                                        },
                                    ),
                                    args: Arguments {
                                        args: [],
                                        kw_args: [],
                                        range: 115..117,
                                    },
                                    range: 114..117,
                                },
                            ),
                            range: 97..117,
                        },
                    ),
                    range: 97..117,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "args",
                                                    range: 126..130,
                                                },
                                            ),
                                            annotation: None,
                                            range: 126..130,
                                        },
                                    ),
                                    vararg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "kwargs",
                                                    range: 134..140,
                                                },
                                            ),
                                            annotation: None,
                                            range: 134..140,
                                        },
                                    ),
                                    args: [],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 125..140,
                                },
                            ),
                            body: BinaryOp(
                                BinaryOpExpr {
                                    left: Call(
                                        CallExpr {
                                            func: Id(
                                                IdExpr {
                                                    id: "f",
                                                    ctx: Load,
                                                    range: 142..143,
                                                },
                                            ),
                                            args: Arguments {
                                                args: [],
                                                kw_args: [],
                                                range: 143..145,
                                            },
                                            range: 142..145,
                                        },
                                    ),
                                    op: Add,
                                    right: Literal(
                                        LiteralExpr {
                                            value: Int(
                                                "1",
                                            ),
                                            range: 148..149,
                                        },
                                    ),
                                    range: 142..149,
                                },
                            ),
                            range: 118..149,
                        },
                    ),
                    range: 118..149,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "args",
                                                    range: 158..162,
                                                },
                                            ),
                                            annotation: None,
                                            range: 158..162,
                                        },
                                    ),
                                    vararg: Some(
                                        Parameter {
                                            name: Valid(
                                                Identifier {
                                                    id: "kwargs",
                                                    range: 174..180,
                                                },
                                            ),
                                            annotation: None,
                                            range: 174..180,
                                        },
                                    ),
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 164..165,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 164..165,
                                            },
                                            default: None,
                                            range: 164..165,
                                        },
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "b",
                                                        range: 167..168,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 167..168,
                                            },
                                            default: Some(
                                                Literal(
                                                    LiteralExpr {
                                                        value: Int(
                                                            "1",
                                                        ),
                                                        range: 169..170,
                                                    },
                                                ),
                                            ),
                                            range: 167..170,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [],
                                    range: 157..180,
                                },
                            ),
                            body: BinaryOp(
                                BinaryOpExpr {
                                    left: Call(
                                        CallExpr {
                                            func: Id(
                                                IdExpr {
                                                    id: "f",
                                                    ctx: Load,
                                                    range: 182..183,
                                                },
                                            ),
                                            args: Arguments {
                                                args: [],
                                                kw_args: [],
                                                range: 183..185,
                                            },
                                            range: 182..185,
                                        },
                                    ),
                                    op: Add,
                                    right: Literal(
                                        LiteralExpr {
                                            value: Int(
                                                "1",
                                            ),
                                            range: 188..189,
                                        },
                                    ),
                                    range: 182..189,
                                },
                            ),
                            range: 150..189,
                        },
                    ),
                    range: 150..189,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [],
                                    posonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 197..198,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 197..198,
                                            },
                                            default: None,
                                            range: 197..198,
                                        },
                                    ],
                                    kwonlyargs: [],
                                    range: 197..201,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 203..206,
                                },
                            ),
                            range: 190..206,
                        },
                    ),
                    range: 190..206,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "b",
                                                        range: 220..221,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 220..221,
                                            },
                                            default: None,
                                            range: 220..221,
                                        },
                                    ],
                                    posonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 214..215,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 214..215,
                                            },
                                            default: None,
                                            range: 214..215,
                                        },
                                    ],
                                    kwonlyargs: [],
                                    range: 214..221,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 223..226,
                                },
                            ),
                            range: 207..226,
                        },
                    ),
                    range: 207..226,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [],
                                    posonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 234..235,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 234..235,
                                            },
                                            default: Some(
                                                Literal(
                                                    LiteralExpr {
                                                        value: Int(
                                                            "1",
                                                        ),
                                                        range: 236..237,
                                                    },
                                                ),
                                            ),
                                            range: 234..237,
                                        },
                                    ],
                                    kwonlyargs: [],
                                    range: 234..241,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 243..246,
                                },
                            ),
                            range: 227..246,
                        },
                    ),
                    range: 227..246,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [],
                                    posonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 254..255,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 254..255,
                                            },
                                            default: None,
                                            range: 254..255,
                                        },
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "b",
                                                        range: 257..258,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 257..258,
                                            },
                                            default: None,
                                            range: 257..258,
                                        },
                                    ],
                                    kwonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "c",
                                                        range: 266..267,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 266..267,
                                            },
                                            default: None,
                                            range: 266..267,
                                        },
                                    ],
                                    range: 254..267,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 269..272,
                                },
                            ),
                            range: 247..272,
                        },
                    ),
                    range: 247..272,
                },
            ),
            Expression(
                ExpressionStmt {
                    value: Lambda(
                        LambdaExpr {
                            parameters: Some(
                                Parameters {
                                    kwarg: None,
                                    vararg: None,
                                    args: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "kw",
                                                        range: 280..282,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 280..282,
                                            },
                                            default: Some(
                                                Literal(
                                                    LiteralExpr {
                                                        value: Int(
                                                            "1",
                                                        ),
                                                        range: 283..284,
                                                    },
                                                ),
                                            ),
                                            range: 280..284,
                                        },
                                    ],
                                    posonlyargs: [],
                                    kwonlyargs: [
                                        ParameterWithDefault {
                                            parameter: Parameter {
                                                name: Valid(
                                                    Identifier {
                                                        id: "a",
                                                        range: 289..290,
                                                    },
                                                ),
                                                annotation: None,
                                                range: 289..290,
                                            },
                                            default: None,
                                            range: 289..290,
                                        },
                                    ],
                                    range: 280..290,
                                },
                            ),
                            body: Ellipsis(
                                EllipsisExpr {
                                    range: 292..295,
                                },
                            ),
                            range: 273..295,
                        },
                    ),
                    range: 273..295,
                },
            ),
        ],
        range: 0..295,
    },
    parse_errors: [],
}
